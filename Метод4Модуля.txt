//Функция 4 модуля
Функция РасчетДляЗакупки(ТипПродукции, ТипМатериала, КоличествоПродукции, Параметр1, Параметр2, КоличествоМатериалаНаСкладе) Экспорт
	Если ТипПродукции.Пустая()
		ИЛИ ТипМатериала.Пустая()
		ИЛИ КоличествоПродукции <= 0 
		ИЛИ Параметр1 <= 0 
		ИЛИ Параметр2 <= 0
		ИЛИ КоличествоМатериалаНаСкладе <= 0 Тогда
		Возврат -1;
	КонецЕсли;
	
	КолНаЕд = Параметр1 * Параметр2 * ТипПродукции.КоэффициентТипаПродукции;
	КолНаЕдСБраком = КолНаЕд * (1 + ТипМатериала.ПроцентБракаМатериала);
	ТребуемоеКоличество = КоличествоПродукции * КолНаЕдСБраком;
	НеобходимоеКоличество = ТребуемоеКоличество - КоличествоМатериалаНаСкладе;
	Если НеобходимоеКоличество <= 0 Тогда
		Возврат 0;
	КонецЕсли;
	Возврат Окр(НеобходимоеКоличество, 0, РежимОкругления.Окр15как20);
КонецФункции // ()